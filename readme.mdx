â¸»

â¸»

title: Crypto Job Board
description: A Web3-friendly job board with React, Express, Drizzle (Postgres), and Stripe.

Crypto Job Board (Web3-ready)

A production-ready job board tailored for crypto & Web3 roles. It ships a modern React front-end, a TypeScript Express API, Stripe-based paid postings/credits, and a PostgreSQL schema via Drizzle ORM. File uploads (resumes, logos) are supported via Google Cloud Storage (Replit sidecar by default).

Monorepo layout: client/ (Vite + React), server/ (Express + Stripe + Drizzle), shared/ (DB schema & types).

â¸»

âœ¨ Features
	â€¢	Jobs marketplace
	â€¢	Post, edit, publish, expire jobs; tiers: Normal, Featured, Premium
	â€¢	Visibility windows (7 / 14 / 30 days)
	â€¢	Salary ranges + currency, job type, seniority, on-site/remote
	â€¢	Company directory & detail pages
	â€¢	Search & filters (keyword, company, category, location, remote, salary, job type, level)
	â€¢	Saved jobs & saved searches
	â€¢	Applications
	â€¢	In-app apply with resume upload
	â€¢	Cover letter, basic profile, tracking of views and applications
	â€¢	Billing / Credits
	â€¢	Stripe Checkout (+ Webhook) provisions credits and visibility days
	â€¢	Pricing plans (Normal/Featured/Premium) with a credit ledger
	â€¢	Accounts & Roles
	â€¢	Roles: job-seeker, employer/recruiter, admin
	â€¢	Profile & settings pages
	â€¢	Admin
	â€¢	Basic admin dashboard and stats
	â€¢	Modern UI/UX
	â€¢	Tailwind CSS + shadcn/ui + Radix primitives
	â€¢	Routing with wouter
	â€¢	State & data via TanStack Query

â¸»

ğŸ§± Tech Stack
	â€¢	Frontend: React 18, TypeScript, Vite, Tailwind, shadcn/ui, wouter, TanStack Query, lucide-react
	â€¢	Backend: Node.js + Express (TypeScript)
	â€¢	Database: Postgres + Drizzle ORM (@neondatabase/serverless compatible)
	â€¢	Payments: Stripe (Checkout + Webhooks)
	â€¢	Uploads/Files: Google Cloud Storage via Replit sidecar (can be swapped to standard GCS/S3)
	â€¢	Build: esbuild (server) + Vite (client)

â¸»

ğŸ“ Repository Structure

.
â”œâ”€ client/                # Vite React app (UI)
â”‚  â”œâ”€ public/             # Static assets
â”‚  â””â”€ src/
â”‚     â”œâ”€ components/      # UI components (includes shadcn/ui)
â”‚     â”œâ”€ hooks/
â”‚     â”œâ”€ lib/             # utils, constants, QueryClient
â”‚     â””â”€ pages/           # Landing, Jobs, JobDetail, Companies, Dashboard, PostJob, Pricing, Checkout, Profile, Settings, RoleSelection, AdminPanel
â”œâ”€ server/                # Express API (TypeScript)
â”‚  â”œâ”€ db.ts               # Neon + Drizzle client
â”‚  â”œâ”€ index.ts            # App entry (dev/prod)
â”‚  â”œâ”€ routes.ts           # REST endpoints (jobs, companies, apps, billing, objects)
â”‚  â”œâ”€ storage.ts          # DB access layer
â”‚  â”œâ”€ upload.ts           # Multer upload config
â”‚  â”œâ”€ objectStorage.ts    # GCS sidecar client + signed URLs + ACL
â”‚  â”œâ”€ objectAcl.ts        # Object visibility/ACL utilities
â”‚  â”œâ”€ replitAuth.ts       # Replit OIDC helpers (optional outside Replit)
â”‚  â”œâ”€ vite.ts             # Dev server integration / static serving
â”‚  â””â”€ seed.ts             # Database seeding
â”œâ”€ shared/                # Drizzle schema & Zod models
â”‚  â””â”€ schema.ts
â”œâ”€ drizzle.config.ts      # Drizzle Kit configuration
â”œâ”€ vite.config.ts         # Vite config (client root + dist/public)
â”œâ”€ .env.example           # Required env vars
â””â”€ package.json           # Scripts (dev/build/start, db:push)


â¸»

âš™ï¸ Prerequisites
	â€¢	Node.js v18+
	â€¢	A Postgres database (e.g., Neon)
	â€¢	A Stripe account (test mode is fine)

â¸»

ğŸ” Environment Variables

Copy .env.example â†’ .env and fill in:

Variable	Description
DATABASE_URL	Postgres connection string (Neon works great)
SESSION_SECRET	Any long random string for session signing
STRIPE_SECRET_KEY	Your Stripe Secret key (sk_...)
VITE_STRIPE_PUBLIC_KEY	Your Stripe Publishable key (pk_...)
STRIPE_WEBHOOK_SECRET	Webhook signing secret (whsec_...)

Outside Replit: either disable upload-dependent features temporarily or replace server/objectStorage.ts with standard GCS/S3 credentials.

â¸»

ğŸ› ï¸ Install & Run (Local)

# 1) Install
npm install

# 2) Create .env
cp .env.example .env
# then edit .env with your own values

# 3) Create / migrate the database schema
npm run db:push

# 4) (Optional) Seed with example data
npx tsx server/seed.ts

# 5) Start in development
npm run dev
# â†’ serves API + Vite dev client (default http://localhost:3000)

# 6) Production build
npm run build     # builds client to dist/public and bundles server to dist/
npm start         # runs Node on dist/index.js

The dev server wires Vite to Express (see server/vite.ts).

â¸»

ğŸ”Œ API (Overview)

See server/routes.ts for the full list. Highlights:

	â€¢	Auth & Roles: helpers in server/replitAuth.ts (requireAuth, requireRole(...)). Outside Replit, stub or swap to your provider.
	â€¢	Companies: create/update, get by slug/id, list with jobs.
	â€¢	Jobs: create/update/publish, list with filters, detail, counters (views/apps), saved jobs/searches.
	â€¢	Applications: submit + store + resume upload, list by job/user.
	â€¢	Billing: /api/checkout â†’ Stripe session; /api/stripe-webhook â†’ provisions credits/visibility.
	â€¢	Objects / Uploads:
	â€¢	POST /api/objects/upload â†’ presigned URL for client-side uploads
	â€¢	PUT  /api/objects/logo and PUT /api/objects/resume â†’ finalize + set ACL
	â€¢	GET  /public-objects/:filePath(*) â†’ public serving of allowed objects

â¸»

ğŸ§¾ Stripe Webhooks
	1.	Set STRIPE_SECRET_KEY and VITE_STRIPE_PUBLIC_KEY.
	2.	Deploy (or expose dev URL with stripe listen).
	3.	In Stripe Dashboard â†’ Developers â†’ Webhooks:
	â€¢	Endpoint: POST https://<your-domain>/api/stripe-webhook
	â€¢	Events: checkout.session.completed (plus others if needed)
	â€¢	Secret â†’ use as STRIPE_WEBHOOK_SECRET

â¸»

â˜ï¸ Deploy to Vercel

This repo targets a single Node function for the Express API + static client hosting.

1) Create api/index.ts (wrap Express; no app.listen)

// api/index.ts
import session from "express-session";
import pgSession from "connect-pg-simple";
import express from "express";
import { pool } from "../server/db";
import { registerRoutes } from "../server/routes";
import { serveStatic } from "../server/vite";

const app = express();
const PgSession = pgSession(session);
app.use(session({
  store: new PgSession({ pool }),
  secret: process.env.SESSION_SECRET!,
  resave: false,
  saveUninitialized: false,
}));

await registerRoutes(app);
export default app; // no app.listen() on Vercel

2) Create vercel.json (build + rewrites)

{
  "buildCommand": "npm run build",
  "outputDirectory": "dist/public",
  "rewrites": [
    { "source": "/api/(.*)", "destination": "/api/index" },
    { "source": "/(.*)", "destination": "/" }
  ]
}

3) Project Settings on Vercel
	â€¢	Build Command: npm run build
	â€¢	Output Directory: dist/public
	â€¢	Env Vars: DATABASE_URL, SESSION_SECRET, STRIPE_SECRET_KEY, VITE_STRIPE_PUBLIC_KEY, STRIPE_WEBHOOK_SECRET

4) Database & Webhook
	â€¢	Run npm run db:push once against your Neon database.
	â€¢	Point Stripe webhook to POST /api/stripe-webhook.

Uploads on Vercel: Swap server/objectStorage.ts to standard GCS (service account) or S3/R2 and adjust signing logic.

â¸»

ğŸ§ª Seeding

Populate example users, companies, jobs, and plans:

npx tsx server/seed.ts


â¸»

ğŸ—ºï¸ Roadmap (suggested)
	â€¢	Replace Replit OIDC with a public provider (Clerk/Auth.js) when not on Replit
	â€¢	Swap sidecar storage to GCS/S3 for non-Replit deploys
	â€¢	Email notifications for saved searches
	â€¢	Admin UI polish & audit logs
	â€¢	Analytics for CTR / apply conversion

â¸»

ğŸ“„ License

MIT â€” see package.json.